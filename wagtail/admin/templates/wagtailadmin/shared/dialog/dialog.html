{% load wagtailadmin_tags i18n %}
{% with id=title|cautious_slugify %}
    <template data-dialog>
        <div
            id="{{ id }}"
            aria-labelledby="title-{{ id }}"
            aria-hidden="true"
            class="{{ class_name }} w-dialog"
        >
            <div data-a11y-dialog-hide class="w-dialog__overlay"></div>
            <div class="w-dialog__box">
                <button type="button" data-a11y-dialog-hide aria-label="{% trans 'Close dialog' %}" class="w-dialog__close-button">
                    {% icon name='cross' class_name="w-dialog__close-icon" %}
                </button>

                {% if message_heading and message_icon_name %}
                    <div class="w-dialog__message w-dialog__message--{{ message_status }}">
                        {% if message_icon_color %}
                            {% icon name=message_icon_name class_name="w-dialog__message-icon "|add:message_icon_color %}
                        {% else %}
                            {% icon name=message_icon_name class_name="w-dialog__message-icon" %}
                        {% endif %}
                        <div class="w-dialog__message-header">
                            <strong class="w-dialog__message-heading">{{ message_heading }}</strong>
                            {% if message_description %}<p class="w-dialog__message-description ">{{ message_description }}</p>{% endif %}
                        </div>
                    </div>
                {% endif %}

                <div class="w-dialog__content">
                    <h2 class="w-dialog__title-wrapper" id="title-{{ id }}">
                        <div class="w-dialog__title">
                            {% if icon_name %}{% icon name=icon_name class_name="w-dialog__icon" %}{% endif %}
                            {{ title }}
                        </div>

                        {% if subtitle %}
                            <span class=" w-help-text">{{ subtitle }}</span>
                        {% endif %}
                    </h2>


{% endwith %}

{% comment %}
    This markup is intentionally left without closing div tags so that the contents can be populated with child elements between dialog and enddialog
    For the end tags please see end-dialog.html
{% endcomment %}
