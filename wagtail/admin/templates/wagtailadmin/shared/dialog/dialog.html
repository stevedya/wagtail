{% load wagtailadmin_tags i18n %}
{% with id=title|cautious_slugify %}
    <template data-dialog>
        <div
            id="{{ id }}"
            aria-labelledby="title-{{ id }}"
            aria-hidden="true"
            class="{{ class_name }} dialog"
        >
            <div data-a11y-dialog-hide class="dialog__overlay"></div>
            <div class="dialog__box">
                <button type="button" data-a11y-dialog-hide aria-label="{% trans 'Close dialog' %}" class="dialog__close-button">
                    {% icon name='cross' class_name="dialog__close-icon" %}
                </button>

                {# Message #}
                {% if message_heading and message_icon_name %}
                    <div class="dialog__message dialog__message--{{ message_status }}">
                        {% if message_icon_color %}
                            {% icon name=message_icon_name class_name="dialog__message-icon "|add:message_icon_color %}
                        {% else %}
                            {% icon name=message_icon_name class_name="dialog__message-icon" %}
                        {% endif %}
                        <div class="dialog__message-header">
                            <strong class="dialog__message-heading">{{ message_heading }}</strong>
                            {% if message_description %}<p class="dialog__message-description ">{{ message_description }}</p>{% endif %}
                        </div>
                    </div>
                {% endif %}

                <div class="dialog__content">
                    {# Title #}
                    <h2 class="dialog__title" id="title-{{ id }}">
                        {% if icon_name %}{% icon name=icon_name class_name="dialog__icon" %}{% endif %}
                        {{ title }}
                    </h2>

                    {# Subtitle #}
                    {% if subtitle %}
                        <p class="dialog__subtitle">{{ subtitle }}</p>
                    {% endif %}

{% endwith %}

{% comment %}
    This markup is intentionally left without closing div tags so that the contents can be populated with child elements between dialog and enddialog
    For the end tags please see end-dialog.html
{% endcomment %}
