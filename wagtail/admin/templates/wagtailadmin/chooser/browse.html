{% extends "wagtailadmin/generic/chooser/chooser.html" %}
{% load i18n wagtailadmin_tags %}


<div>
    {% block filter_form %}
        <header class="w-chooser-header">
            <div class="w-chooser-header__wrapper">
                <div class="w-chooser-header__search-field">
                    <form class="search-form search-form" action="{% url "wagtailadmin_choose_page_search" %}?page_type={{ page_type_string }}" method="get" novalidate role="search">
                        {% for field in search_form %}
                            {% include "wagtailadmin/shared/field.html" with field=field classname="w-mb-0" sr_only_label=True %}
                        {% endfor %}
                        {% comment %}Add an initial disabled & hidden submit button so that pressing 'enter' will not submit form. Reload not required as the content is dynamically loaded.{% endcomment %}
                        <div class="visuallyhidden"><input disabled type="submit" aria-hidden="true"/></div>
                        <div class="submit visuallyhidden"><input type="submit" value="Search" class="button"/></div>
                    </form>
                </div>
            </div>
        </header>
    {% endblock %}

    {% block chooser_content %}
        {% if page_types_restricted %}
            {% trans "Choose" as choose_str %}
        {% else %}
            {% trans "Choose a page" as choose_str %}
        {% endif %}
        <h2 class="w-sr-only">{{ choose_str }} - {{ page_type_names|join:", " }}</h2>

        {% include 'wagtailadmin/chooser/_link_types.html' with current='internal' %}

        {% if page_types_restricted %}
            <p class="help-block help-warning">
                {% icon name='warning' %}
                {% blocktrans trimmed with type=page_type_names|join:", " count counter=page_type_names|length %}
                    Only pages of type "{{ type }}" may be chosen for this field. Search results will exclude pages of other types.
                    {% plural %}
                    Only the following page types may be chosen for this field: {{ type }}. Search results will exclude pages of other types.
                {% endblocktrans %}
            </p>
        {% endif %}

        <div class="page-results">
            {% include 'wagtailadmin/chooser/_browse_results.html' %}
        </div>
    {% endblock %}
</div>
